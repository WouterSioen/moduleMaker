Searching 8 files for "Spoon"

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Actions/Add.php:
   45  	protected function loadForm()
   46  	{
   47: 		$this->record = SpoonSession::get('module');
   48  
   49  		$this->frm = new BackendForm('add');
   ..
   96  				$this->record['underscored_name'] = BackendModuleMakerHelper::buildUnderscoredName($title);
   97  
   98: 				SpoonSession::set('module', $this->record);
   99  
  100  				$this->redirect(BackendModel::createURLForAction('add_step2'));

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Actions/AddField.php:
   32  	{
   33  		// If step 1 isn't entered, redirect back to the first step of the wizard
   34: 		$this->record = SpoonSession::get('module');
   35  		if(!$this->record || !array_key_exists('title', $this->record)) $this->redirect(BackendModel::createURLForAction('add'));
   36  
   ..
  180  
  181  			// get existing fields
  182: 			$this->record = SpoonSession::get('module');
  183  			if(array_key_exists('fields', $this->record))
  184  			{
  ...
  284  
  285  				// save
  286: 				SpoonSession::set('module', $this->record);
  287  				$this->redirect(BackendModel::createURLForAction('add_step2'));
  288  			}

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Actions/AddStep2.php:
   46  	{
   47  		// If step 1 isn't entered, redirect back to the first step of the wizard
   48: 		$this->record = SpoonSession::get('module');
   49  		if(!$this->record || !array_key_exists('title', $this->record)) $this->redirect(BackendModel::createURLForAction('add'));
   50  

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Actions/AddStep3.php:
   39  	{
   40  		// If step 1 isn't entered, redirect back to the first step of the wizard
   41: 		$this->record = SpoonSession::get('module');
   42  		if(!$this->record || !array_key_exists('title', $this->record)) $this->redirect(BackendModel::createURLForAction('add'));
   43  
   ..
  164  
  165  				// save the object in our session
  166: 				SpoonSession::set('module', $this->record);
  167  				$this->redirect(BackendModel::createURLForAction('add_step4'));
  168  			}

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Actions/AddStep4.php:
   32  	{
   33  		// If step 1 isn't entered, redirect back to the first step of the wizard
   34: 		$this->record = SpoonSession::get('module');
   35  		if(!$this->record || !array_key_exists('title', $this->record)) $this->redirect(BackendModel::createURLForAction('add'));
   36  
   ..
   98  
   99  				// save the object in our session
  100: 				SpoonSession::set('module', $this->record);
  101  				$this->redirect(BackendModel::createURLForAction('generate'));
  102  			}

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Actions/CreateZip.php:
   82  
   83  					// delete temp file
   84: 					Spoonfile::delete(PATH_WWW . '/' . $module . '.zip');
   85  					exit();
   86  				}
   ..
  126  
  127  		$this->dataGridInstallableModules->setSortingColumns(array('raw_name'));
  128: 		$this->dataGridInstallableModules->setHeaderLabels(array('raw_name' => SpoonFilter::ucfirst(BL::getLabel('Name'))));
  129  		$this->dataGridInstallableModules->setColumnsHidden(array('installed', 'name', 'cronjobs_active'));
  130  

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Actions/DeleteField.php:
   25  	{
   26  		// If step 1 isn't entered, redirect back to the first step of the wizard
   27: 		$this->record = SpoonSession::get('module');
   28  		if(!$this->record || !array_key_exists('title', $this->record)) $this->redirect(BackendModel::createURLForAction('add'));
   29  
   ..
   38  		{
   39  			unset($this->record['fields'][$this->id]);
   40: 			SpoonSession::set('module', $this->record);
   41  			$this->redirect(BackendModel::createURLForAction('add_step2') . '&report=deleted');
   42  		}

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Actions/Generate.php:
   44  	{
   45  		// If step 1 isn't entered, redirect back to the first step of the wizard
   46: 		$this->record = SpoonSession::get('module');
   47  		if(!$this->record || !array_key_exists('title', $this->record)) $this->redirect(BackendModel::createURLForAction('add'));
   48  
   ..
  254  		if($this->record['multipleImages'])
  255  		{
  256: 			SpoonDirectory::copy(
  257  				BACKEND_MODULE_PATH . '/layout/templates/backend/js/fineuploader', $this->backendPath . 'js/fineuploader'
  258  			);
  ...
  604  		$this->tpl->assign('module', $this->record);
  605  
  606: 		//SpoonSession::delete('module');
  607  	}
  608  }

17 matches across 8 files


Searching 161 files for "Spoon"

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Actions/Snippets/BuildFile.base.php:
    4  
    5  				// create folders if needed
    6: 				if(!SpoonDirectory::exists($filePath)) SpoonDirectory::create($filePath);
    7  
    8  				// file provided?

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Actions/Snippets/BuildImage.base.php:
    4  
    5  				// create folders if needed
    6: {$create_folders}				if(!SpoonDirectory::exists($imagePath . '/source')) SpoonDirectory::create($imagePath . '/source');
    7  
    8  				// image provided?

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Actions/Snippets/BuildImageCaption.base.php:
    4  
    5  				// create folders if needed
    6: {$create_folders}				if(!SpoonDirectory::exists($imagePath . '/source')) SpoonDirectory::create($imagePath . '/source');
    7  
    8  				// image provided?

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Actions/Snippets/CreateFolder.base.php:
    1: 				if(!SpoonDirectory::exists($imagePath . '/{$option}')) SpoonDirectory::create($imagePath . '/{$option}');
    2  

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Actions/Snippets/MultipleImagesSave.base.php:
   12  				if(!empty($files))
   13  				{
   14: 					$fromSession = SpoonSession::get('uploadedFiles');
   15  					foreach($fromSession as $sImage)
   16  					{
   ..
   42  						);
   43  					}
   44: 					SpoonSession::delete('uploadedFiles');
   45  				}
   46  

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Actions/Snippets/MultipleImagesSaveEdit.base.php:
   39  				if(!empty($files))
   40  				{
   41: 					$fromSession = SpoonSession::get('uploadedFiles');
   42  
   43  					foreach($fromSession as $sImage)
   ..
   70  						);
   71  					}
   72: 					SpoonSession::delete('uploadedFiles');
   73  				}

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Ajax/Sequence.base.php:
   13  
   14  		// get parameters
   15: 		$newIdSequence = trim(SpoonFilter::getPostValue('new_id_sequence', null, '', 'string'));
   16  
   17  		// list id

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Ajax/SequenceCategories.base.php:
   13  
   14  		// get parameters
   15: 		$newIdSequence = trim(SpoonFilter::getPostValue('new_id_sequence', null, '', 'string'));
   16  
   17  		// list id

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Ajax/Upload.base.php:
   33  
   34  		// create directories, in case it doesn't exist yet
   35: 		SpoonDirectory::create($uploadPath . '/source');
   36: 		SpoonDirectory::create($uploadPath . '/' . $thumbFolder);
   37: 		SpoonDirectory::create($uploadPath . '/chunks');
   38  
   39  		// create uploader
   ..
   53  
   54  		// get file extension
   55: 		$fileExtension = SpoonFile::getExtension($uploader->getName());
   56  
   57  		// create a filename ("<microtime>_<random md5>_<extension>")
   ..
   62  
   63  		// get total num pars
   64: 		$numChunks = SpoonFilter::getGetValue('qqtotalparts', null, null, 'int');
   65  
   66  		// get current index
   67: 		$chunkIndex = SpoonFilter::getGetValue('qqpartindex', null, null, 'int');
   68  
   69  		$result['num'] = $numChunks;
   ..
   87  
   88  				// create a thumbnail
   89: 				$thumbnail = new SpoonThumbnail($uploadPath . '/source/' . $fileName, 100, 100);
   90  				$thumbnail->setForceOriginalAspectRatio(false);
   91  				$thumbnail->parseToFile($uploadPath . '/100x100/' . $fileName);
   92  			}
   93  
   94: 			if(SpoonSession::exists('uploadedFiles')) $uploadedFiles = SpoonSession::get('uploadedFiles');
   95  			else $uploadedFiles = array();
   96  
   97  			$uploadedFiles[] = $result;
   98: 			SpoonSession::set('uploadedFiles', $uploadedFiles);
   99  		}
  100  

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Engine/Helper.base.php:
   86  		if(empty($fileSizes))
   87  		{
   88: 			$model = get_class_vars('Backend' . SpoonFilter::toCamelCase($module) . 'Model');
   89  			$fileSizes = $model['fileSizes'];
   90  		}
   ..
   95  		$sourceSource = FRONTEND_FILES_PATH . '/' . $module . (empty($currentSubDirectory) ? '/' : $currentSubDirectory . '/') . 'source/' . $currentFilename;
   96  		$sourceDestination = FRONTEND_FILES_PATH . '/' . $module . (empty($newSubDirectory) ? '/' : $newSubDirectory . '/') . 'source/' . $newFilename;
   97: 		if(SpoonFile::exists($sourceSource))
   98  		{
   99: 			SpoonFile::move($sourceSource, $sourceDestination);
  100  		}
  101  
  ...
  105  			$source = FRONTEND_FILES_PATH . '/' . $module . (empty($currentSubDirectory) ? '/' : $currentSubDirectory . '/') . $sizeDir . '/' . $currentFilename;
  106  			$destination = FRONTEND_FILES_PATH . '/' . $module . (empty($newSubDirectory) ? '/' : $newSubDirectory . '/') . $sizeDir . '/' . $newFilename;
  107: 			if(SpoonFile::exists($source))
  108  			{
  109: 				SpoonFile::move($source, $destination);
  110  			}
  111: 			elseif($createMissingFromSource && SpoonFile::exists($sourceDestination))
  112  			{
  113  				// create a thumbnail
  114: 				$thumbnail = new SpoonThumbnail(
  115  					$sourceDestination,
  116  					$fileSizes[$sizeDir]['width'],

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Engine/Snippets/GetUrl.base.php:
    9  	public static function getURL($url, $id = null)
   10  	{
   11: 		$url = SpoonFilter::urlise((string) $url);
   12  		$db = BackendModel::getContainer()->get('database');
   13  

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Engine/Snippets/GetUrlCategory.base.php:
    9  	public static function getURLForCategory($url, $id = null)
   10  	{
   11: 		$url = SpoonFilter::urlise((string) $url);
   12  		$db = BackendModel::getContainer()->get('database');
   13  

/Users/wouter/Sites/moduleMaker/src/Backend/Modules/ModuleMaker/Layout/Templates/Backend/Installer/Snippets/MultipleImages.base.php:
    2  
    3  		// copy the qqFileUploader needed for multiple fileupload
    4: 		if(!SpoonFile::exists(PATH_LIBRARY . '/external/qqFileUploader.php'))
    5  		{
    6  			copy(dirname(__FILE__) . '/data/qqFileUploader.php', PATH_LIBRARY . '/external/qqFileUploader.php');

34 matches across 13 files
